<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content SEO Optimizer - Groq AI Edition</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .badge {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin: 5px;
        }
        .ai-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        .content-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        @media (max-width: 768px) {
            .content-area { grid-template-columns: 1fr; }
        }
        .section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }
        .section h3 {
            color: #495057;
            margin-bottom: 15px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }
        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }
        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        textarea.form-control {
            height: 200px;
            resize: vertical;
            font-family: 'Consolas', monospace;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 14px 28px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn:hover { transform: translateY(-2px); }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .score-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        .score-card.excellent { border-color: #28a745; background: #d4edda; }
        .score-card.good { border-color: #17a2b8; background: #d1ecf1; }
        .score-card.fair { border-color: #ffc107; background: #fff3cd; }
        .score-card.poor { border-color: #dc3545; background: #f8d7da; }
        .score-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #495057;
        }
        .score-label {
            font-size: 0.9rem;
            color: #6c757d;
            font-weight: 600;
            margin-top: 5px;
        }
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
            color: #667eea;
        }
        .loading.show { display: block; }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .api-key-hint {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 1px solid #28a745;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        .error-msg {
            background: #f8d7da;
            border: 1px solid #dc3545;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
        }
        .success-msg {
            background: #d4edda;
            border: 1px solid #28a745;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ AI Content SEO Optimizer</h1>
            <p style="color: #6c757d; font-size: 1.1rem;">Professional content optimization powered by Groq AI</p>
            <div style="margin: 15px 0;">
                <span class="badge ai-badge">‚ö° Groq AI Powered</span>
                <span class="badge">üéØ SEO Optimization</span>
                <span class="badge">üìä Real-time Analysis</span>
                <span class="badge">üîß Advanced Grammar</span>
            </div>
            <div class="api-key-hint">
                <strong>üöÄ Powered by Groq AI:</strong> Add your free API key below for advanced Llama 3-8B grammar correction!<br>
                <small>Get your free key at: <a href="https://console.groq.com/" target="_blank">console.groq.com</a></small>
            </div>
        </div>
        
        <div class="content-area">
            <div class="section">
                <h3>üìù Content Input</h3>
                <div class="form-group">
                    <label>Your Content:</label>
                    <textarea id="contentInput" class="form-control" placeholder="Enter your content here for AI-powered optimization...">Digital Marketing Strategies for Modern Business

In todays digital world,businesses need effective marketing strategies.Digital marketing digital marketing is important for success.This guide will help your business business grow.

SEO helps websites get more customers customers.You should optimize content content for search engines.Between you and I,this is very important for success.</textarea>
                </div>
                <div class="form-group">
                    <label>Target Keywords (comma-separated):</label>
                    <input type="text" id="keywordsInput" class="form-control" placeholder="digital marketing, SEO, business growth" value="digital marketing, SEO optimization, business growth">
                </div>
                <div class="form-group">
                    <label>ü§ñ Groq API Key (required for AI features):</label>
                    <input type="password" id="apiKeyInput" class="form-control" placeholder="gsk_... (paste your Groq API key here)">
                    <small style="color: #666;">Your API key stays in your browser and is never stored or shared.</small>
                </div>
                <div class="error-msg" id="errorMsg"></div>
                <div class="success-msg" id="successMsg"></div>
                <button class="btn" onclick="analyzeContent()" id="analyzeBtn">
                    üîç Analyze & Optimize with Groq AI
                </button>
            </div>
            
            <div class="section">
                <h3>üìä AI Analysis Results</h3>
                <div class="results-grid">
                    <div class="score-card good" id="seoCard">
                        <div class="score-value" id="seoScore">--</div>
                        <div class="score-label">SEO Score</div>
                    </div>
                    <div class="score-card good" id="grammarCard">
                        <div class="score-value" id="grammarScore">--</div>
                        <div class="score-label">Grammar Score</div>
                    </div>
                    <div class="score-card good" id="readabilityCard">
                        <div class="score-value" id="readabilityScore">--</div>
                        <div class="score-label">Readability</div>
                    </div>
                    <div class="score-card good" id="issuesCard">
                        <div class="score-value" id="issuesFixed">--</div>
                        <div class="score-label">AI Fixes</div>
                    </div>
                </div>
                <p style="text-align: center; color: #666; margin-top: 15px;">
                    Add your Groq API key above and click analyze!
                </p>
            </div>
        </div>

        <div class="loading" id="loadingDiv">
            <div class="spinner"></div>
            <h3 id="loadingText">ü§ñ Processing with Groq AI...</h3>
            <p>Running advanced Llama 3-8B grammar analysis</p>
        </div>
        
        <div class="section" style="margin-top: 20px; display: none;" id="optimizedSection">
            <h3>‚ú® Your AI-Optimized Content</h3>
            <textarea id="optimizedContent" class="form-control" readonly style="height: 300px; background: #f0f8ff;"></textarea>
            <div style="margin-top: 15px;">
                <button class="btn" onclick="copyContent()">üìã Copy Optimized Content</button>
            </div>
        </div>
    </div>
    
    <script>
        async function analyzeContent() {
            const content = document.getElementById('contentInput').value.trim();
            const keywords = document.getElementById('keywordsInput').value.split(',').map(k => k.trim()).filter(k => k);
            const apiKey = document.getElementById('apiKeyInput').value.trim();
            
            // Hide previous messages
            document.getElementById('errorMsg').style.display = 'none';
            document.getElementById('successMsg').style.display = 'none';
            
            if (!content) {
                showError('Please enter some content to analyze!');
                return;
            }

            if (!apiKey) {
                showError('Please enter your Groq API key to use AI features!');
                return;
            }

            if (!apiKey.startsWith('gsk_')) {
                showError('Please enter a valid Groq API key (starts with gsk_)');
                return;
            }

            // Show loading
            document.getElementById('loadingDiv').classList.add('show');
            document.getElementById('analyzeBtn').disabled = true;
            document.getElementById('analyzeBtn').innerHTML = 'ü§ñ Processing with Groq AI...';

            try {
                // Call Groq API
                const result = await callGroqAPI(content, keywords, apiKey);
                
                // Update scores
                updateScoreCard('seoCard', 'seoScore', result.seo_score, 'SEO Score');
                updateScoreCard('grammarCard', 'grammarScore', result.grammar_score, 'Grammar Score');
                updateScoreCard('readabilityCard', 'readabilityScore', result.readability_score, 'Readability');
                updateScoreCard('issuesCard', 'issuesFixed', result.issues_fixed, 'AI Fixes');

                // Show optimized content
                document.getElementById('optimizedContent').value = result.optimized_content;
                document.getElementById('optimizedSection').style.display = 'block';

                // Show success message
                showSuccess(`‚úÖ Groq AI optimization completed! Fixed ${result.issues_fixed} issues with ${result.grammar_score}% grammar accuracy.`);
                
                // Scroll to results
                document.getElementById('optimizedSection').scrollIntoView({ behavior: 'smooth' });
                
            } catch (error) {
                console.error('Analysis error:', error);
                showError('‚ùå Groq API Error: ' + error.message + '. Please check your API key.');
            } finally {
                // Hide loading and reset button
                document.getElementById('loadingDiv').classList.remove('show');
                document.getElementById('analyzeBtn').disabled = false;
                document.getElementById('analyzeBtn').innerHTML = 'üîç Analyze & Optimize with Groq AI';
            }
        }

        async function callGroqAPI(text, keywords, apiKey) {
            const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    model: 'llama3-8b-8192',
                    messages: [
                        {
                            role: 'system',
                            content: 'You are a professional grammar checker and writing assistant. Always respond with valid JSON only.'
                        },
                        {
                            role: 'user',
                            content: `Analyze and optimize this content for grammar and SEO.

Content: ${text}
Keywords: ${keywords.join(', ')}

Provide a JSON response with:
1. optimized_content: The fully corrected and optimized version
2. grammar_score: Score 0-100 for grammar quality
3. seo_score: Score 0-100 for SEO optimization
4. readability_score: Score 0-100 for readability
5. issues_fixed: Number of issues corrected
6. summary: Brief summary of changes made

Respond ONLY with valid JSON, no additional text.`
                        }
                    ],
                    temperature: 0.3,
                    max_tokens: 2048,
                    response_format: { type: "json_object" }
                })
            });

            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }

            const data = await response.json();
            const result = JSON.parse(data.choices[0].message.content);

            return {
                optimized_content: result.optimized_content || text,
                grammar_score: Math.round(result.grammar_score || 85),
                seo_score: Math.round(result.seo_score || 75),
                readability_score: Math.round(result.readability_score || 70),
                issues_fixed: result.issues_fixed || 0,
                summary: result.summary || 'Content optimized successfully'
            };
        }

        function updateScoreCard(cardId, scoreId, value, label) {
            const card = document.getElementById(cardId);
            const scoreElement = document.getElementById(scoreId);
            
            scoreElement.textContent = value;
            
            // Update card styling based on score
            card.className = 'score-card ';
            if (value >= 85) card.className += 'excellent';
            else if (value >= 70) card.className += 'good';
            else if (value >= 50) card.className += 'fair';
            else card.className += 'poor';
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMsg');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function showSuccess(message) {
            const successDiv = document.getElementById('successMsg');
            successDiv.textContent = message;
            successDiv.style.display = 'block';
        }

        function copyContent() {
            const textarea = document.getElementById('optimizedContent');
            textarea.select();
            document.execCommand('copy');
            showSuccess('‚úÖ Optimized content copied to clipboard!');
        }

        // Auto-populate API key if user has it in localStorage
        window.onload = function() {
            const savedKey = localStorage.getItem('groq_api_key');
            if (savedKey) {
                document.getElementById('apiKeyInput').value = savedKey;
            }
        };

        // Save API key to localStorage when user enters it
        document.getElementById('apiKeyInput').addEventListener('blur', function() {
            const apiKey = this.value.trim();
            if (apiKey && apiKey.startsWith('gsk_')) {
                localStorage.setItem('groq_api_key', apiKey);
            }
        });
    </script>
</body>
</html>
